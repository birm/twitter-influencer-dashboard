<html>
<style>
table {
    border-collapse: collapse;
}

table, td, th {
    border: 1px solid black;
}
</style>
<script src="api_interaction.js"></script>
<h1>Twitter Influencer Dashboard</h1>
<p>REALLY early beta for influencer dashboard. See some times and tweets from two users you put in the inputs below.</p>
<form>
Username 1: <input id="username1" type="text"></input><br/>
Username 2: <input id="username2" type="text"></input><br/>
Token: <input id="token" type="text"></input><br/>
Token Secret: <input id="tokenSec" type="text"></input><br/>
<input id="submitbtn" type="button" value="submit"></input>
</form>
<div id="res_area"></div>

<script>
function result_append_table(data){
  var html="<table><thead><tr><th>Time</th><th>Text</th></tr></thead><tbody>";
  data.forEach((x) => html += `<tr><td>${x.time}</td><td>${x.text}</td></tr>`);
  html += "</tbody></table>";
  document.getElementById("res_area").innerHtml += html;
}
function get_users(){
  document.getElementById("res_area").innerHtml = "";
  var token = document.getElementById("token").value;
  var tok_sec = document.getElementById("tokenSec").value;
  user_info(document.getElementById("username1").value, token, tok_sec, result_append_table);
  user_info(document.getElementById("username2").value, token, tok_sec, result_append_table);
}
document.getElementById("submitbtn").onclick = get_users;
</script>
</html>
